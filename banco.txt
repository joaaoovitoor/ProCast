CREATE DATABASE DBProcast;
USE DBProcast;
CREATE TABLE IF NOT EXISTS `pais` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(60) DEFAULT NULL,
  `sigla` varchar(10) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=2 ;

INSERT INTO `pais` (`id`, `nome`, `sigla`) VALUES (1, 'Brasil', 'BR');


CREATE TABLE IF NOT EXISTS `estado` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `nome` varchar(75) DEFAULT NULL,
  `uf` varchar(5) DEFAULT NULL,
  `pais` int(7) DEFAULT NULL,
  PRIMARY KEY (`id`),
  KEY `fk_Estado_pais` (`pais`)
) ENGINE=InnoDB  DEFAULT CHARSET=latin1 AUTO_INCREMENT=28 ;


INSERT INTO `estado` (`id`, `nome`, `uf`, `pais`) VALUES
(1, 'Acre', 'AC', 1),
(2, 'Alagoas', 'AL', 1),
(3, 'Amazonas', 'AM', 1),
(4, 'Amapá', 'AP', 1),
(5, 'Bahia', 'BA', 1),
(6, 'Ceará', 'CE', 1),
(7, 'Distrito Federal', 'DF', 1),
(8, 'Espírito Santo', 'ES', 1),
(9, 'Goiás', 'GO', 1),
(10, 'Maranhão', 'MA', 1),
(11, 'Minas Gerais', 'MG', 1),
(12, 'Mato Grosso do Sul', 'MS', 1),
(13, 'Mato Grosso', 'MT', 1),
(14, 'Pará', 'PA', 1),
(15, 'Paraíba', 'PB', 1),
(16, 'Pernambuco', 'PE', 1),
(17, 'Piauí', 'PI', 1),
(18, 'Paraná', 'PR', 1),
(19, 'Rio de Janeiro', 'RJ', 1),
(20, 'Rio Grande do Norte', 'RN', 1),
(21, 'Rondônia', 'RO', 1),
(22, 'Roraima', 'RR', 1),
(23, 'Rio Grande do Sul', 'RS', 1),
(24, 'Santa Catarina', 'SC', 1),
(25, 'Sergipe', 'SE', 1),
(26, 'São Paulo', 'SP', 1),
(27, 'Tocantins', 'TO', 1);

CREATE TABLE funcao(
	id_funcao int auto_increment primary key,
	nome_funcao varchar(12) not null
);
INSERT INTO funcao(nome_funcao) VALUES ("Atirador"),("Suporte"),("Meio"),("Caçador"),("Topo");

CREATE TABLE usuario(
	id_usuario int auto_increment primary key,
	nome varchar (15) not null,
	sobrenome varchar (30),
	cpf char(14),
	cnpj char(18),
	sexo char(1),
	categoria_usuario char(1) not null,
	nick varchar (16),
	foto_perfil varchar(30) ,
	funcao_1 int,
	funcao_2 int,
	senha varchar(100) not null,
	email varchar (30) not null,
	dta_nascimento char(10) not null,
	estado char(2) not null,
	telefone char(15) not null,
	descricao text,
	constraint fk_funcao_1 foreign key (funcao_1) references funcao(id_funcao),
	constraint fk_funcao_2 foreign key (funcao_2) references funcao(id_funcao),
	constraint fk_estado foreign key (estado) references estado(uf)
);

CREATE TABLE admin(
	id_admin int auto_increment primary key,
	nome varchar (15) not null,
	sobrenome varchar (30),
	senha varchar (100) not null,
	email varchar (100) not null
);

CREATE TABLE anunciante(
	id_anunciante int auto_increment primary key,
	nome_anunciante varchar (30) not null,
	cnpj varchar(18) not null,
	ramo varchar(30) not null
);

CREATE TABLE categoria_noticia(
	id_categoria_noticia int auto_increment primary key,
	categoria_noticia char(1) not null
);

CREATE TABLE conquista(
	id_conquista int auto_increment primary key,
	descricao varchar(200) not null
);

CREATE TABLE noticia(
	id_noticia int auto_increment primary key,
	dta_publicacao varchar(10) not null,
	titulo varchar(50) not null,
	lide varchar(200) not null,
	texto varchar(1000) not null,
	imagem_noticia varchar(30),
	id_categoria_noticia int,
	constraint fk_categoria_noticia foreign key (id_categoria_noticia) references categoria_noticia(id_categoria_noticia)
);

CREATE TABLE comentario(
	id_comentario int auto_increment primary key,
	texto_comentario varchar(150) not null,
	id_usuario int,
	constraint fk_comentario_usuario foreign key (id_usuario) references usuario(id_usuario)
);

CREATE TABLE anuncio(
	id_anuncio int auto_increment primary key,
	imagem_anuncio varchar(30) not null,
	nome_anuncio varchar(25) not null,
	id_anunciante int,
	constraint fk_anuncio_anunciante foreign key (id_anunciante) references anunciante(id_anunciante)
);

CREATE TABLE denuncia(
	id_denuncia int auto_increment primary key,
	descricao_denuncia varchar(100) not null,
	tipo_denuncia char(1) not null,
	id_usuario int,
	constraint fk_denuncia_usuario foreign key (id_usuario) references usuario(id_usuario)
);

CREATE TABLE contato(
	id_contato int auto_increment primary key,
	motivo varchar(20) not null,
	descricao_contato varchar(300) not null,
	id_usuario int,
	imagem_contato varchar(30),
	constraint fk_contato_usuario foreign key (id_usuario) references usuario(id_usuario)
);


CREATE TABLE torneio(
	id_torneio int auto_increment primary key,
	tipo_torneio char(1) not null,
	dta_inicio_torneio varchar(10) not null,
	dta_termino_torneio varchar(10) not null,
	colocacoes_torneio varchar(4)
);

CREATE TABLE colocacao(
	id_colocacao int auto_increment primary key,
	id_torneio int,
	id_usuario int,
	colocacao varchar(4),
	constraint fk_torneio_colocacao foreign key (id_torneio) references torneio(id_torneio),
	constraint fk_usuario_colocacao foreign key (id_usuario) references usuario(id_usuario)
);

CREATE TABLE clube(
	id_clube int auto_increment primary key,
	logo_clube varchar(30) not null,
	nome_clube varchar(20) not null,
	dta_criacao date not null,
	numero_jogadores int(3),
	descricao_clube varchar(1000) not null,
	numero_vitorias_clube varchar(4),
	id_usuario int,
	constraint fk_usuario_clube foreign key(id_usuario) references usuario(id_usuario)
);

CREATE TABLE pagamento(
	id_pagamento int auto_increment primary key,
	dta_pagamento varchar(10) not null,
	valor_pagamento varchar(10) not null,
	numero_boleto varchar(30) not null,
	id_usuario int,
	constraint fk_usuario_pagamento foreign key(id_usuario) references usuario(id_usuario)
);

CREATE TABLE video(
	id_video int auto_increment primary key,
	data_video varchar(10) not null,
	descricao_video varchar(300) not null,
	titulo_video varchar(50) not null,
	id_usuario int,
	constraint fk_usuario_video foreign key(id_usuario) references usuario(id_usuario)
);

CREATE TABLE agenda(
	id_agenda int auto_increment primary key,
	hora varchar(5),
	data varchar(20),
	evento varchar(20),
	id_usuario int,
	constraint fk_usuario_agenda foreign key(id_usuario) references usuario(id_usuario)
);

CREATE TABLE mensagem(
	id_mensagem int auto_increment primary key,
	assunto varchar(50),
	anexo varchar(50),
	anexo_ant varchar(50),
	mensagem varchar(500),
	favorito_env varchar(11),
	excluido_env varchar(11),
	rascunho varchar(11),
	favorito_rec varchar(11),
	excluido_rec varchar(11),
	solicitacao_env varchar(11),
	solicitacao_rec varchar(11),
	data DATETIME,
	view varchar(1),
	id_enviar int(11) not null,
	id_receber int(11) not null,
	constraint fk_usuario_enviar foreign key(id_enviar) references usuario(id_usuario),
	constraint fk_usuario_receber foreign key(id_receber) references usuario(id_usuario)
);